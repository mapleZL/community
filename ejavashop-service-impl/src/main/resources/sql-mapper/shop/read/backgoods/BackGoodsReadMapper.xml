<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ejavashop.dao.shop.read.backgoods.BackGoodsReadDao">
	<resultMap id="BackGoodsResult" type="com.ejavashop.entity.backgoods.BackGoods">
			<result property="id" column="id" />
			<result property="ordersId" column="orders_id" />
			<result property="ordersSn" column="orders_sn" />
			<result property="createTime" column="create_time" />
			<result property="updateTime" column="update_time" />
			<result property="backNum" column="back_num" />
			<result property="status" column="status" />
			<result property="backMan" column="back_man" />
			<result property="backMemberId" column="back_member_id" />
			<result property="backReason" column="back_reason" />
			<result property="checkMan" column="check_man" />
			<result property="checkReason" column="check_reason" />
			<result property="checkTime" column="check_time" />
			<result property="wellNum" column="well_num" />
			<result property="badNum" column="bad_num" />
			<result property="mobile" column="mobile" />
			<result property="phone" column="phone" />
			<result property="email" column="email" />
	</resultMap>
	
	<select id="get" parameterType="Integer" resultMap="BackGoodsResult">
		select
		   *
		from `back_goods`
		where `id` = #{id}
	</select>
	
	
	
	<select id="getCount" parameterType="java.util.Map"
		resultType="java.lang.Integer">
		select count(1) from back_goods t1
		<include refid="whereConditions" />
	 </select>
	
	 <select id="page"   resultMap="BackGoodsResult">
		select * from back_goods t1
		<include refid="whereConditions" />
		order by create_time desc
		<if test="size != null and size &gt; 0">limit #{start},#{size}</if>
	  </select>
	
		<sql id="whereConditions">
			<where>
				1=1
				<if test="param1.q_orderSn != null and param1.q_orderSn != ''">
					and t1.`orders_sn` = #{param1.q_orderSn}
				</if>
				<if test="param1.q_backMan != null and param1.q_backMan != ''">
					and t1.`back_man` = #{param1.q_backMan}
				</if>
				<if test="param1.q_backNum != null and param1.q_backNum != ''">
					and t1.`back_num` = #{param1.q_backNum}
				</if>
			</where>
		 </sql>
		
</mapper>